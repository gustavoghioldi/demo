version: 2
jobs:
  #maven-jobs:
  mavenize: 
    machine:
      java:
        version: oraclejdk8
    working_directory: /tmp/my-project
    steps:
      - checkout
      - run:
          name: test
          command: mvn test
      - run: pwd
      - run:
          name: package
          command: mvn package
      - run: ls
  
  dockerize:
    machine:
      java:
        version: oraclejdk8
    working_directory: /tmp/my-project/target
    steps:
      - run: docker info

workflows:
version: 2
  mvn-dock:
    - mavenize
    - dockerize:
        requires:
          - mavenize



      